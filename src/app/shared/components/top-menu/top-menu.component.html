<mat-toolbar color="primary">
  <mat-toolbar-row >
    <button mat-button [routerLink]="['/']">Juanma Moreno SÃ¡nchez</button>
    <span class="spacer"></span>
    @if (!mobileMenu) {
      <button mat-icon-button aria-label="menu" (click)="drawer.toggle()">
        <mat-icon>menu</mat-icon>
      </button>
    } @else {
      <ng-template *ngTemplateOutlet="menuButtons"></ng-template>
    }
  </mat-toolbar-row>
</mat-toolbar>

<mat-drawer-container>
  <mat-drawer #drawer mode="over">
    <ng-template *ngTemplateOutlet="menuButtons"></ng-template>
  </mat-drawer>
  <mat-drawer-content>
    <app-breadcrumb></app-breadcrumb>
    <router-outlet></router-outlet>
  </mat-drawer-content>
</mat-drawer-container>

<ng-template #menuButtons>
  <button mat-button [matMenuTriggerFor]="paintingMenu" class="menu-button">
    {{ 'paintings' | translate }}
  </button>
  <button mat-button [matMenuTriggerFor]="generativeMenu" class="menu-button">
    {{ 'menu.generative' | translate }}
  </button>
  <button mat-button [routerLink]="['/about']" class="menu-button">
    {{ 'menu.about' | translate }}
  </button>
  <button mat-button [routerLink]="['/cv']" class="menu-button">
    CV
  </button>
  <button mat-button [routerLink]="['/contact']" class="menu-button">
    {{ 'menu.contact' | translate }}
  </button>
  <button mat-button (click)="changeLanguage()" class="menu-button">
    {{ currentLang }}
  </button>
</ng-template>

<mat-menu #paintingMenu="matMenu">
  <button mat-menu-item routerLink="/artworks">
    {{ 'menu.allPaintings' | translate }}
  </button>
  <button mat-menu-item [matMenuTriggerFor]="yearsMenu">
    {{ 'menu.byYear' | translate }}
  </button>
</mat-menu>

<mat-menu #yearsMenu="matMenu">
  @for (year of years; track year) {
    <button mat-menu-item 
      [routerLink]="['/artworks']" 
      [queryParams]="{ years: year }">
      {{year}}
    </button>
  }
</mat-menu>

<mat-menu #generativeMenu="matMenu">
  @for (generativePiece of generativePieces; track generativePiece) {
    <button mat-menu-item [routerLink]="['/generative', generativePiece.id]">{{generativePiece.label}}</button>
  }
</mat-menu>