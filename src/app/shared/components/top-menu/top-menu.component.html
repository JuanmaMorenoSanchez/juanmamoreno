<mat-drawer-container>
  <mat-drawer #drawer mode="over" position="end" class="drawer">
    <div>
      <ng-container *ngTemplateOutlet="menuButtons"></ng-container>
    </div>
  </mat-drawer>

  <mat-drawer-content>
    <mat-toolbar color="primary">
      <mat-toolbar-row>
        <button mat-button [routerLink]="['/']">Juanma Moreno SÃ¡nchez</button>
        <span class="spacer"></span>

        @if(!mobileMenu()) {
          <button mat-icon-button (click)="drawer.toggle()" aria-label="Toggle menu">
            <mat-icon>menu</mat-icon>
          </button>
        } @else {
          <ng-container *ngTemplateOutlet="menuButtons"></ng-container>
        }

      </mat-toolbar-row>
    </mat-toolbar>
  </mat-drawer-content>
</mat-drawer-container>

<ng-template #menuButtons>
  <button mat-button [matMenuTriggerFor]="paintingMenu">
    {{ 'paintings' | translate }}
  </button>
  <button mat-button [routerLink]="['/about']">
    {{ 'menu.about' | translate }}
  </button>
  <button mat-button [routerLink]="['/cv']">
    CV
  </button>
  <button mat-button [routerLink]="['/contact']">
    {{ 'menu.contact' | translate }}
  </button>
  <button mat-button (click)="changeLanguage()">
    {{ currentLang }}
  </button>
</ng-template>

<mat-menu #paintingMenu="matMenu">
  <button mat-menu-item routerLink="/artworks">
    {{ 'menu.allPaintings' | translate }}
  </button>
  <button mat-menu-item [matMenuTriggerFor]="yearsMenu">
    {{ 'menu.byYear' | translate }}
  </button>
</mat-menu>

<mat-menu #yearsMenu="matMenu">
  @for (year of years; track year) {
    <button mat-menu-item [routerLink]="['/artworks']" [queryParams]="{ years: year }">
      {{ year }}
    </button>
  }
</mat-menu>
